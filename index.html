<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>SVG Grid</title>
  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
  <style>
  .paper {
    border: solid 1px black;
    border-collapse: collapse;
  }
  
  html {
    box-sizing: border-box;
    height: 100%;
  }
  
  body {
    margin: 0;
    padding: 0;
    height: 100%;
    background-color: #434343;
    background-size: 50px 50px;
    background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent);
  }
  
  svg {
    margin-top: 12px;
    margin-left: 12px;
    width: 500px;
    height: 500px;
    position: absolute;
    background-color: transparent;
    background-size: 5px 5px;
    background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent);
  }
  </style>
</head>

<body>
  <svg width="500" height="500" class="paper">
    <g class="grid"></g>
    <g class="points"></g>
    <g class="lines"></g>
    <g class="other">
    </g>
  </svg>
  <script>
  var points = [];
  var id = {
  	id: 0,
  	new: function () {
  		return this.id++;
  	}
  }

  function createNode(x,y) {
  	var node = {
  		x: x,
  		y: y,
  		id: id.new();
  	}

  	return node;
  }

  function clicked(evt) {
    var e = evt.target;
    var dim = e.getBoundingClientRect();
    var x = evt.clientX - dim.left;
    var y = evt.clientY - dim.top;
    alert("x: " + x + " y:" + y);
  }

  function attachEvents() {
  	var svg = document.getElementsByTagName('svg')[0];
  	svg.addEventListener('click',clicked);
  }

  window.onload = function() {
    attachEvents();
  };
  </script>
</body>

</html>
